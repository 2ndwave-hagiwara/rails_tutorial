<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="blogs.scss" type="text/css">
    <script>
    var checkForm = function(){
        var title = document.blog_edit.title.value
        var body = document.blog_edit.content.value
        if (title.length == 0){
            alert("タイトルは空にできません");
            return false;
        }else if(body.length == 0){
            alert("本文は空にできません");
            return false;
        }else if(title.length < 3 || title.length > 30){
            alert("タイトルは3字以上30字以内で編集してください");
            return false;
        }else{
            document.blog_edit.submit();
        }
    }
    </script>
</head>
<body>
    <%= flash[:danger] %>
    <h1 class="title">記事編集</h1>
    <form name="blog_edit" action="/blogs/<%= @blog.id %>" method="post">
    <input type="hidden" name="_method" value="patch" />
    <div>
        <td>タイトル</td><br>
        <input class="edit_title" type="text" name="title" value= <%= @blog.title %> />
    </div>
    <div class="space"></div>
    <div>
        <td>本文</td><br>
        <input class="edit_context" type="text" name="content" value= <%= @blog.content %> />
    </div>
    </div>
    <p>
      <input type="button" value="登録" onclick="checkForm()">
    </p>
    <%= link_to "戻る",blog_path %>
    </form>
</body>